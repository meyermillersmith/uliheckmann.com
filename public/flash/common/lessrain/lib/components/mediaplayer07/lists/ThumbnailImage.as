/** * @author Torsten Härtel (torsten@lessrain.com) */import lessrain.lib.components.mediaplayer07.core.DataFile;import lessrain.lib.components.mediaplayer07.events.LoadEvent;import lessrain.lib.components.mediaplayer07.lists.ListItem;import lessrain.lib.components.mediaplayer07.skins.core.ISkinFactory;import lessrain.lib.components.mediaplayer07.skins.core.IThumbnailImageSkin;import lessrain.lib.utils.events.EventDistributor;import lessrain.lib.utils.events.IDistributor;import lessrain.lib.utils.events.IEvent;import lessrain.lib.utils.loading.FileItem;import lessrain.lib.utils.loading.FileListener;import lessrain.lib.utils.loading.PriorityLoader;class lessrain.lib.components.mediaplayer07.lists.ThumbnailImage implements FileListener, IDistributor{	private var _targetMC			: MovieClip;	private var _listItem 			: ListItem;	private var _file				: DataFile;	private var _eventDistributor 	: EventDistributor;	private var _skinFactory		: ISkinFactory;	private var _skin				: IThumbnailImageSkin;		// Image	private var _imageHolder		: MovieClip;	private var _imageContainer 	: MovieClip;			public function ThumbnailImage(listItem_:ListItem, targetMC:MovieClip, file:DataFile, skinFactory_:ISkinFactory) 	{		_eventDistributor = new EventDistributor();				_targetMC 	 = targetMC.createEmptyMovieClip("image_"+targetMC.getNextHighestDepth(), targetMC.getNextHighestDepth());		_listItem	 = listItem_;		_file 		 = file;		_skinFactory = skinFactory_;				initialize();	}		/*	 * Initialzes the image	 */	public function initialize() :Void	{		_imageHolder = _targetMC.createEmptyMovieClip("imageHolder", _targetMC.getNextHighestDepth());		_imageContainer = _imageHolder.createEmptyMovieClip("imageContainer", _imageHolder.getNextHighestDepth());		//		_skin = _skinFactory.createThumbnailImageSkin( _targetMC, this);				PriorityLoader.getInstance().addFile( _imageHolder, file.src, this, 10, "image", "Image" );	}		/*	 * FileListener methods	 */	public function onLoadStart(file : FileItem) : Boolean 	{//		distributeEvent( new LoadEvent( LoadEvent.LOAD_START, 0 ) );		return null;	}	public function onLoadComplete(file : FileItem) : Void	{//		distributeEvent( new LoadEvent( LoadEvent.LOAD_COMPLETE, 100 ) );	}	public function onLoadProgress(file : FileItem, bytesLoaded : Number, bytesTotal : Number, percent : Number) : Void	{//		distributeEvent( new LoadEvent( LoadEvent.LOAD_PROGRESS, percent ) );	}			/*	 * Getter & setter	 */	public function get file():DataFile { return _file; }	public function set file(value:DataFile):Void { _file=value; }		public function get imageContainer():MovieClip { return _imageContainer; }	public function set imageContainer(value:MovieClip):Void { _imageContainer=value; }			public function get imageHolder():MovieClip { return _imageHolder; }	public function set imageHolder(value:MovieClip):Void { _imageHolder=value; }		public function get targetMC():MovieClip { return _targetMC; }	public function set targetMC(value:MovieClip):Void { _targetMC=value; }		public function get skin():IThumbnailImageSkin { return _skin; }	public function set skin(value:IThumbnailImageSkin):Void { _skin=value; }		/*	 * EventDistributor methods	 */	public function addEventListener(type : String, func : Function) : Void {}	public function removeEventListener(type : String, func : Function) : Void {}	public function distributeEvent(eventObject : IEvent) : Void {}}